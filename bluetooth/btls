#!/bin/sh

pairednames() {
	bluetoothctl paired-devices | cut -d\  -f3-
}

connectednames() {
	bluetoothctl paired-devices | while read -r _ mac name; do
		bluetoothctl info $mac | grep 'Connected: yes' >/dev/null && echo $name
	done
}

case "$1" in
	'-p' | '--paired')
		pairednames
		;;
	'-c' | '--connected')
		connectednames
		;;
esac

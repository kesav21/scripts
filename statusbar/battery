#!/bin/luajit

function readline(filename)
	if io.open(filename) then
		for line in io.lines(filename) do
			return line
		end
		io.close(file)
	end
end

function rampicon(capacity)
	if capacity <= 10 then return "" end
	if capacity <= 20 then return "" end
	if capacity <= 30 then return "" end
	if capacity <= 40 then return "" end
	if capacity <= 50 then return "" end
	if capacity <= 60 then return "" end
	if capacity <= 70 then return "" end
	if capacity <= 80 then return "" end
	if capacity <= 90 then return "" end
	return ""
end

function statusicon(status)
	if status == "Charging" then return "" end
	if status == "Full" then return "" end
	return ""
end

capacity = tonumber(readline("/sys/class/power_supply/BAT0/capacity"))
rampicon = rampicon(capacity)
statusicon = statusicon(readline("/sys/class/power_supply/BAT0/status"))
print(" " .. statusicon .. " " .. rampicon .. " " .. capacity .. "% ")
